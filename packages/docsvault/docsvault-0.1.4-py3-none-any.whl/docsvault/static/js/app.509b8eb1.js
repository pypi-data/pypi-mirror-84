(function(e){function t(t){for(var o,a,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)a=l[d],Object.prototype.hasOwnProperty.call(n,a)&&n[a]&&p.push(n[a][0]),n[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],o=!0,l=1;l<r.length;l++){var s=r[l];0!==n[s]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=r[0]))}return e}var o={},n={app:0},i=[];function a(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=o,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(r,o,function(t){return e[t]}.bind(null,o));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"3e2b":function(e,t,r){"use strict";r("e9bc")},4805:function(e,t,r){"use strict";r("8ce0")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("Navigation"),r("md-content",[r("router-view")],1)],1)},i=[],a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("md-toolbar",[r("div",{staticClass:"md-toolbar-row"},[r("h1",{staticClass:"md-title"},[e._v("DocsVault")]),r("div",{staticClass:"md-toolbar-section-start",staticStyle:{"margin-left":"3em"}},[r("md-button",{attrs:{to:"/vault"}},[r("md-icon",[e._v("lock")]),e._v(" Vault ")],1),r("md-badge",{attrs:{"md-content":e.pendingUploadsLength}},[r("md-button",{attrs:{to:"/vault/uploads"}},[r("md-icon",[e._v("description")]),e._v(" Uploads ")],1)],1)],1),r("div",{staticClass:"md-toolbar-section-end"},[r("md-button",{attrs:{to:"/settings"}},[r("md-icon",[e._v("settings")]),e._v(" Settings ")],1),r("md-button",[r("md-icon",[e._v("power_settings_new")]),e._v(" Logout ")],1)],1)])])},l=[],s=r("5530"),c=r("2f62"),u={computed:Object(s["a"])({},Object(c["b"])("vault",["pendingUploadsLength"]))},d=u,p=r("2877"),m=Object(p["a"])(d,a,l,!1,null,null,null),f=m.exports,v={name:"App",components:{Navigation:f}},h=v,g=Object(p["a"])(h,n,i,!1,null,null,null),_=g.exports,b=r("8c4f"),y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("md-toolbar",{staticClass:"md-dense"},[r("div",{staticClass:"md-toolbar-section-start",staticStyle:{"margin-left":"3em"}},[r("BreadCrumb",{attrs:{directories:e.currentDirectoryTree},on:{directorySelected:e.openFolder}})],1),r("div",{staticClass:"md-toolbar-section-end"},[r("md-button",{on:{click:function(t){return e.openCreateDirectoryDialog()}}},[r("md-icon",[e._v("folder")])],1),r("md-button",[r("md-icon",[e._v("delete")])],1),r("md-button",{attrs:{title:"Upload files here"},on:{click:function(t){return e.openFileSelectionDialog()}}},[r("md-icon",[e._v("publish")])],1)],1)]),r("FilesList",{attrs:{files:e.currentDirectoryContent},on:{itemSelected:e.onItemSelected}}),r("UploadFilesDialog",{attrs:{show:e.uploadFilesDialogOpened},on:{uploadFiles:e.onUploadFiles,dialogClosed:e.onFileSelectionDialogClosed}}),r("CreateDirectoryDialog",{attrs:{show:e.createDirectoryDialogOpened},on:{createDirectory:e.onCreateDirectory,dialogClosed:e.onCreateDirectoryDialogClosed}})],1)},D=[],C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("md-list",e._l(e.files,(function(t){return r("md-list-item",{key:t.relpath,on:{click:function(r){return e.selectItem(t)}}},[r("md-checkbox",{attrs:{value:"preview"}}),"folder"===t.filetype?r("md-icon",[e._v("folder")]):e._e(),"file"===t.filetype?r("md-icon",[e._v("description")]):e._e(),r("span",{staticClass:"md-list-item-text"},[e._v(" "+e._s(t.filename))]),r("span",{staticClass:"md-list-item-text"},[e._v(" "+e._s(t.created))])],1)})),1)],1)},w=[],j={props:{files:Array[{filename:String,relpath:String,filetype:String}]},components:{},methods:{selectItem:function(e){this.$emit("itemSelected",e)}}},F=j,O=Object(p["a"])(F,C,w,!1,null,null,null),x=O.exports,k=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("header",[r("a",{attrs:{href:"#"},on:{click:function(t){return t.preventDefault(),e.selectDirectory("")}}},[r("h3",{staticClass:"md-title"},[e._v("Vault")])]),e._l(e.directories,(function(t){return r("span",{key:t.relativePath},[r("md-icon",[e._v("keyboard_arrow_right")]),r("a",{attrs:{href:"#"},on:{click:function(r){return r.preventDefault(),e.selectDirectory(t.relativePath)}}},[r("h3",{staticClass:"md-title"},[e._v(e._s(t.name))])])],1)}))],2)},S=[],$={props:{directories:Array[{relativePath:String,name:String}]},methods:{selectDirectory:function(e){this.$emit("directorySelected",e)}}},U=$,P=(r("3e2b"),Object(p["a"])(U,k,S,!1,null,"11457616",null)),T=P.exports,E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("md-dialog",{attrs:{"md-active":e.show},on:{"update:mdActive":function(t){e.show=t},"update:md-active":function(t){e.show=t}}},[r("md-dialog-title",[e._v("Upload to Vault")]),r("div",{staticStyle:{},on:{drop:function(t){return t.preventDefault(),e.onFileDropped(t)},dragover:function(e){e.preventDefault()}}},[r("md-list",{attrs:{"md-expand-single":"true"}},[r("md-list-item",{attrs:{"md-expand":"","md-expanded":""}},[r("md-icon",[e._v("download_file")]),r("span",{staticClass:"md-list-item-text"},[e._v(" select documents to add ")]),r("md-list",{attrs:{slot:"md-expand"},slot:"md-expand"},[r("md-list-item",[r("md-empty-state",{staticStyle:{border:"dashed 2px gray",margin:"1em"},attrs:{"md-icon":"file_download","md-label":"Select files","md-description":"You can drag and drop any files here."}},[r("label",{staticClass:"md-button md-primary",staticStyle:{padding:"10px"},attrs:{for:"file-upload"}},[e._v(" Open from explorer ")]),r("input",{staticStyle:{visibility:"hidden"},attrs:{id:"file-upload",multiple:"",type:"file"},on:{change:e.onFileSelected}})])],1)],1)],1),r("md-list-item",{attrs:{"md-expand":""}},[r("md-icon",[e._v("documentation")]),r("span",{staticClass:"md-list-item-text"},[e._v("show selected documents")]),r("md-badge",{attrs:{"md-content":e.numberOfFiles}}),r("md-list",{attrs:{slot:"md-expand"},slot:"md-expand"},e._l(e.inputFiles,(function(t,o){return r("md-list-item",{key:o,staticClass:"md-inset"},[e._v(" "+e._s(t.name)+" ")])})),1)],1),r("md-button",{staticClass:"md-primary md-raised",attrs:{disabled:e.uploadDisabled},on:{click:e.uploadFiles}},[e._v(" Upload ")])],1)],1)],1)},I=[],V={data:function(){return{inputFiles:[]}},computed:{numberOfFiles:function(){return this.inputFiles.length},uploadDisabled:function(){return 0==this.inputFiles.length}},props:{show:Boolean},methods:{uploadFiles:function(){this.$emit("uploadFiles",this.inputFiles),this.closeDialog()},closeDialog:function(){this.inputFiles=[],this.$emit("dialogClosed")},onFileDropped:function(e){this.addInputFiles(e.dataTransfer.files)},onFileSelected:function(e){this.addInputFiles(e.target.files)},addInputFiles:function(e){if(e){for(var t=0;t<e.length;t++)this.inputFiles.push(e[t]);console.log(this.inputFiles)}}}},L=V,Q=Object(p["a"])(L,E,I,!1,null,null,null),A=Q.exports,B=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("md-dialog",{attrs:{"md-active":e.showDialog},on:{"update:mdActive":function(t){e.showDialog=t},"update:md-active":function(t){e.showDialog=t}}},[r("md-dialog-title",[e._v("Upload to Vault")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.createDirectory()}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.directoryToCreate,expression:"directoryToCreate"}],attrs:{placeholder:"yolo"},domProps:{value:e.directoryToCreate},on:{input:function(t){t.target.composing||(e.directoryToCreate=t.target.value)}}}),r("md-button",{staticClass:"md-raised md-primary",attrs:{disabled:e.createButtonDisabled},on:{click:function(t){return e.createDirectory()}}})],1)],1)},W=[],H={data:function(){return{directoryToCreate:null}},computed:{createButtonDisabled:function(){return!this.directoryToCreate},showDialog:{get:function(){return this.show},set:function(e){console.log("set value",e),this.$emit("dialogClosed")}}},props:{show:Boolean},methods:{createDirectory:function(){this.$emit("createDirectory",this.directoryToCreate),this.closeDialog()},closeDialog:function(){console.log("emit close dialog"),this.$emit("dialogClosed")}}},M=H,N=Object(p["a"])(M,B,W,!1,null,null,null),J=N.exports,Y={name:"Vault",components:{BreadCrumb:T,FilesList:x,UploadFilesDialog:A,CreateDirectoryDialog:J},data:function(){return{uploadFilesDialogOpened:!1,createDirectoryDialogOpened:!1}},computed:Object(s["a"])(Object(s["a"])({},Object(c["c"])("vault",["currentDirectoryContent"])),Object(c["b"])("vault",["currentDirectoryTree"])),created:function(){this.$store.dispatch("vault/getCurrentDirectoryContent")},methods:{onItemSelected:function(e){"folder"===e.filetype&&this.openFolder(e.relpath)},openFolder:function(e){this.$store.commit("vault/setCurrentDirectory",e),this.$store.dispatch("vault/getCurrentDirectoryContent")},openFileSelectionDialog:function(){this.uploadFilesDialogOpened=!0},onFileSelectionDialogClosed:function(){this.uploadFilesDialogOpened=!1},onUploadFiles:function(e){this.$store.dispatch("vault/addToUploadQueue",e)},openCreateDirectoryDialog:function(){console.log("open dialog"),this.createDirectoryDialogOpened=!0},onCreateDirectoryDialogClosed:function(){console.log("close dialog"),this.createDirectoryDialogOpened=!1},onCreateDirectory:function(e){console.log("create directory",e),this.$store.dispatch("vault/createDirectory",e)}}},z=Y,q=Object(p["a"])(z,y,D,!1,null,null,null),G=q.exports,K=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Pendings uploads")]),r("md-table",[r("md-table-row",[r("md-table-head",[e._v("Filename")]),r("md-table-head",[e._v("Upload directory")]),r("md-table-head",[e._v(" Upload progress ")])],1),e._l(e.pendingUploads,(function(t,o){return r("md-table-row",{key:o},[r("md-table-cell",[e._v(e._s(t.file.name))]),r("md-table-cell",[e._v("$(vault)/"+e._s(t.directory))]),r("md-table-cell",[r("md-progress-bar",{staticClass:"md-accent",attrs:{"md-mode":"indeterminate"}})],1)],1)}))],2)],1)},R=[],X={computed:Object(s["a"])({},Object(c["c"])("vault",["pendingUploads"]))},Z=X,ee=Object(p["a"])(Z,K,R,!1,null,null,null),te=ee.exports,re=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"home"},[o("img",{attrs:{alt:"Vue logo",src:r("cf05")}}),o("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},oe=[],ne=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hello"},[r("h1",[e._v(e._s(e.msg))]),e._m(0),r("h3",[e._v("Installed CLI Plugins")]),e._m(1),r("h3",[e._v("Essential Links")]),e._m(2),r("h3",[e._v("Ecosystem")]),e._m(3)])},ie=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v(" For a guide and recipes on how to configure / customize this project,"),r("br"),e._v(" check out the "),r("a",{attrs:{href:"https://cli.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-cli documentation")]),e._v(". ")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel",target:"_blank",rel:"noopener"}},[e._v("babel")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint",target:"_blank",rel:"noopener"}},[e._v("eslint")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Core Docs")])]),r("li",[r("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Forum")])]),r("li",[r("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("Community Chat")])]),r("li",[r("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"}},[e._v("Twitter")])]),r("li",[r("a",{attrs:{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("News")])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",[r("li",[r("a",{attrs:{href:"https://router.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-router")])]),r("li",[r("a",{attrs:{href:"https://vuex.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vuex")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/vue-devtools#vue-devtools",target:"_blank",rel:"noopener"}},[e._v("vue-devtools")])]),r("li",[r("a",{attrs:{href:"https://vue-loader.vuejs.org",target:"_blank",rel:"noopener"}},[e._v("vue-loader")])]),r("li",[r("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"}},[e._v("awesome-vue")])])])}],ae={name:"HelloWorld",props:{msg:String}},le=ae,se=(r("4805"),Object(p["a"])(le,ne,ie,!1,null,"b9167eee",null)),ce=se.exports,ue={name:"Home",components:{HelloWorld:ce}},de=ue,pe=Object(p["a"])(de,re,oe,!1,null,null,null),me=pe.exports;o["default"].use(b["a"]);var fe=[{path:"/vault",name:"Vault",component:G},{path:"/vault/uploads",name:"Uploads",component:te},{path:"/settings",name:"Settings",component:me}],ve=new b["a"]({mode:"history",base:"/",routes:fe}),he=ve,ge={namespaced:!0,state:function(){return{}},mutations:{},actions:{},getters:{}},_e=(r("c975"),r("a15b"),r("fb6a"),r("d3b7"),r("ac1f"),r("8a79"),r("1276"),r("bc3a")),be=r.n(_e),ye={namespaced:!0,state:function(){return{currentDirectory:"",currentDirectoryContent:[],uploadsQueue:[]}},mutations:{setCurrentDirectory:function(e,t){e.currentDirectory=t,console.log(e.currentDirectory)},setCurrentDirectoryContent:function(e,t){console.log("dir content",t),e.currentDirectoryContent=t},addPendingUpload:function(e,t){e.uploadsQueue.push(t)},updateUploadProgress:function(e,t,r){var o=e.uploadsQueue.indexOf(t);e.uploadsQueue[o].progress=r}},getters:{currentDirectoryTree:function(e){for(var t=""===e.currentDirectory?[]:e.currentDirectory.split("/"),r=[],o=0;o<t.length;o++)r.push({name:t[o],relativePath:t.slice(0,o+1).join("/")});return console.log(r),r},pendingUploadsLength:function(e){return e.uploadsQueue.length}},actions:{getCurrentDirectoryContent:function(e){return new Promise((function(t){be.a.get("/api/browse/"+e.state.currentDirectory).then((function(r){e.commit("setCurrentDirectoryContent",r.data),t()}))}))},performUpload:function(e,t){e.commit("updateUploadProgress",t,30);var r=new FormData;r.append("file",t.file),be.a.post("/api/vault/upload/"+t.directory,r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(){e.dispatch("getCurrentDirectoryContent")}))},addToUploadQueue:function(e,t){for(var r=0;r<t.length;r++){var o={directory:e.state.currentDirectory,progress:0,file:t[r]};e.commit("addPendingUpload",o),e.dispatch("performUpload",o)}},createDirectory:function(e,t){console.log([e.state.currentDirectory]);var r=e.state.currentDirectory+(""===e.state.currentDirectory||e.state.currentDirectory.endsWith("/")?"":"/")+t;be.a.post("/api/vault/directory/"+r).then((function(){e.dispatch("getCurrentDirectoryContent")}))}}};o["default"].use(c["a"]);var De=new c["a"].Store({modules:{vault:ye,settings:ge}}),Ce=r("43f9"),we=r.n(Ce);r("51de"),r("e094");o["default"].use(we.a),o["default"].config.productionTip=!1,new o["default"]({router:he,store:De,render:function(e){return e(_)}}).$mount("#app")},"8ce0":function(e,t,r){},cf05:function(e,t,r){e.exports=r.p+"img/logo.82b9c7a5.png"},e9bc:function(e,t,r){}});
//# sourceMappingURL=app.509b8eb1.js.map