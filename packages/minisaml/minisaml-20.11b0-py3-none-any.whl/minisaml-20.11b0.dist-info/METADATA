Metadata-Version: 2.1
Name: minisaml
Version: 20.11b0
Summary: Minimal SAML2 client
Home-page: https://github.com/HENNGE/minisaml
License: Apache-2.0
Author: Jonas Obrist
Author-email: jonas.obrist@hennge.com
Requires-Python: >=3.7,<4.0
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: Apache Software License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3 :: Only
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Typing :: Typed
Provides-Extra: docs
Requires-Dist: lxml (>=4.4.1,<5.0.0)
Requires-Dist: minisignxml (>=20.11b0,<21.0)
Requires-Dist: sphinx (>=3.2.0,<4.0.0); extra == "docs"
Requires-Dist: sphinxcontrib-mermaid (>=0.4.0,<0.5.0); extra == "docs"
Requires-Dist: yarl (>=1.4.2,<2.0.0)
Project-URL: Repository, https://github.com/HENNGE/minisaml
Description-Content-Type: text/markdown

# MiniSAML


[![Code style: black](https://img.shields.io/badge/code%20style-black-000000.svg)](https://github.com/psf/black)
[![CircleCI](https://circleci.com/gh/HENNGE/minisaml.svg?style=svg)](https://circleci.com/gh/HENNGE/minisaml)
[![Documentation Status](https://readthedocs.org/projects/minisaml/badge/?version=latest)](https://minisaml.readthedocs.io/en/latest/?badge=latest)



Absolutely minimalistic SAML 2 client. Does not support the full SAML 2 specification, on purpose.
It only supports requests via HTTP Redirect and responses via HTTP POST.


## Usage


### Create a SAML Request

```python
from minisaml.request import get_request_redirect_url

url = get_request_redirect_url(
    saml_endpoint='https://your-idp.invalid/sso-endpoint/', 
    expected_audience='Your SAML Issuer', 
    acs_url='https://you.web-site.invalid/saml/acs/'
)

# This line depends on your web framework/server
redirect_user_to_url(url)
```

### Validate and parse the SAML Response

```python
from minisaml.response import validate_response

# This line depends on your web framework/server
saml_response = get_SAMLResponse_form_data_as_bytes() 

# Load the x509 certificate as a cryptography.x509.Certificate somehow
certificate = ...

try:
    response = validate_response(data=saml_response, certificate=certificate, expected_audience='Your SAML Issuer')
except:
    handle_invalid_response_somehow()

# response is a minisaml.response.Response object
```

