.. _Experimental:

================================================================================
Experimental
================================================================================
Experimental group

Common Parameters: u, name

Available models:
PI2_,
TestDB1_,
TestPI_,
TestLagAWFreeze_

.. _PI2:

--------------------------------------------------------------------------------
PI2
--------------------------------------------------------------------------------

Group Experimental_


Parameters

+-------+-----------+-------------------+---------+--------+-----------+------------+
| Name  |  Symbol   |    Description    | Default |  Unit  |   Type    | Properties |
+=======+===========+===================+=========+========+===========+============+
|  idx  |           | unique device idx |         |        | DataParam |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  u    | :math:`u` | connection status | 1       | *bool* | NumParam  |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  name |           | device name       |         |        | DataParam |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  Kp   |           |                   |         |        | NumParam  |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  Ki   |           |                   |         |        | NumParam  |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  Wmax |           |                   |         |        | NumParam  |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  Wmin |           |                   |         |        | NumParam  |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+

Variables

+------+----------------+---------------+-------------+------+------------+
| Name |     Symbol     | Initial Value | Description | Unit | Properties |
+======+================+===============+=============+======+============+
|  uin | :math:`u_{in}` | :math:`0`     |             |      | v_str      |
+------+----------------+---------------+-------------+------+------------+
|  x   | :math:`x`      | :math:`0.05`  |             |      | v_str      |
+------+----------------+---------------+-------------+------+------------+
|  y   | :math:`y`      | :math:`0.05`  |             |      | v_str      |
+------+----------------+---------------+-------------+------+------------+
|  w   | :math:`w`      | :math:`0.05`  |             |      | v_str      |
+------+----------------+---------------+-------------+------+------------+

Differential Equations

+------+----------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+
| Name |     Symbol     | Type  |                                                              RHS of Equation "T x' = f(x, y)"                                                              | T (LHS) |
+======+================+=======+============================================================================================================================================================+=========+
|  uin | :math:`u_{in}` | State | :math:`\begin{cases} 0 & \text{for}\: t_{dae} \leq 0 \\1 & \text{for}\: t_{dae} \leq 2 \\-1 & \text{for}\: t_{dae} < 6 \\1 & \text{otherwise} \end{cases}` |         |
+------+----------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+
|  x   | :math:`x`      | State | :math:`Ki u_{in} z_{i}^{HL}`                                                                                                                               |         |
+------+----------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------+---------+

Algebraic Equations

+------+-----------+-------+--------------------------------------------------------------+
| Name |  Symbol   | Type  |                RHS of Equation "0 = g(x, y)"                 |
+======+===========+=======+==============================================================+
|  y   | :math:`y` | Algeb | :math:`Kp u_{in} + x - y`                                    |
+------+-----------+-------+--------------------------------------------------------------+
|  w   | :math:`w` | Algeb | :math:`Wmax z_{u}^{HL} + Wmin z_{l}^{HL} - w + y z_{i}^{HL}` |
+------+-----------+-------+--------------------------------------------------------------+

Discrete

+------+------------+-------------+------+
| Name |   Symbol   |    Type     | Info |
+======+============+=============+======+
|  HL  | :math:`HL` | HardLimiter |      |
+------+------------+-------------+------+


.. _TestDB1:

--------------------------------------------------------------------------------
TestDB1
--------------------------------------------------------------------------------

Group Experimental_


    Test model for `DeadBand1`.
    
Parameters

+-------+-----------+-------------------+---------+--------+-----------+------------+
| Name  |  Symbol   |    Description    | Default |  Unit  |   Type    | Properties |
+=======+===========+===================+=========+========+===========+============+
|  idx  |           | unique device idx |         |        | DataParam |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  u    | :math:`u` | connection status | 1       | *bool* | NumParam  |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  name |           | device name       |         |        | DataParam |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+

Variables

+-------+----------------+---------------------------------------------------------------------------------+------------------------+------+------------+
| Name  |     Symbol     |                                  Initial Value                                  |      Description       | Unit | Properties |
+=======+================+=================================================================================+========================+======+============+
|  uin  | :math:`u_{in}` | :math:`-10`                                                                     |                        |      | v_str      |
+-------+----------------+---------------------------------------------------------------------------------+------------------------+------+------------+
|  DB_y | :math:`y_{DB}` | :math:`DB_{db zl} \left(u_{in} + 5\right) + DB_{db zu} \left(u_{in} - 5\right)` | Deadband type 1 output |      | v_str      |
+-------+----------------+---------------------------------------------------------------------------------+------------------------+------+------------+

Algebraic Equations

+-------+----------------+-------+------------------------------------------------------------------------------------------+
| Name  |     Symbol     | Type  |                              RHS of Equation "0 = g(x, y)"                               |
+=======+================+=======+==========================================================================================+
|  uin  | :math:`u_{in}` | Algeb | :math:`t_{dae} - u_{in} - 10`                                                            |
+-------+----------------+-------+------------------------------------------------------------------------------------------+
|  DB_y | :math:`y_{DB}` | Algeb | :math:`DB_{db zl} \left(u_{in} + 5\right) + DB_{db zu} \left(u_{in} - 5\right) - y_{DB}` |
+-------+----------------+-------+------------------------------------------------------------------------------------------+

Discrete

+--------+-----------------+----------+------+
|  Name  |     Symbol      |   Type   | Info |
+========+=================+==========+======+
|  DB_db | :math:`db_{DB}` | DeadBand |      |
+--------+-----------------+----------+------+

Blocks

+------+------------+-----------+------+
| Name |   Symbol   |   Type    | Info |
+======+============+===========+======+
|  DB  | :math:`DB` | DeadBand1 |      |
+------+------------+-----------+------+


.. _TestPI:

--------------------------------------------------------------------------------
TestPI
--------------------------------------------------------------------------------

Group Experimental_


Parameters

+-------+-----------+---------------------+---------+--------+-----------+------------+
| Name  |  Symbol   |     Description     | Default |  Unit  |   Type    | Properties |
+=======+===========+=====================+=========+========+===========+============+
|  idx  |           | unique device idx   |         |        | DataParam |            |
+-------+-----------+---------------------+---------+--------+-----------+------------+
|  u    | :math:`u` | connection status   | 1       | *bool* | NumParam  |            |
+-------+-----------+---------------------+---------+--------+-----------+------------+
|  name |           | device name         |         |        | DataParam |            |
+-------+-----------+---------------------+---------+--------+-----------+------------+
|  Text |           | Extended event time | 1       | *s*    | NumParam  |            |
+-------+-----------+---------------------+---------+--------+-----------+------------+

Variables

+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|   Name    |       Symbol       |                                Initial Value                                |        Description        | Unit | Properties |
+===========+====================+=============================================================================+===========================+======+============+
|  PI_xi    | :math:`xi_{PI}`    | :math:`0.0`                                                                 | Integrator output         |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  PIF_xi   | :math:`xi_{PIF}`   | :math:`0`                                                                   | Integrator output         |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  PIAW_xi  | :math:`xi_{PIAW}`  | :math:`0.0`                                                                 | Integrator output         |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  PIAWF_xi | :math:`xi_{PIAWF}` | :math:`0`                                                                   | Integrator output         |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  uin      | :math:`u_{in}`     | :math:`0`                                                                   |                           |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  zf       | :math:`z_{f}`      | :math:`0`                                                                   |                           |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  PI_y     | :math:`y_{PI}`     | :math:`u_{in}`                                                              | PI output                 |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  PIF_y    | :math:`y_{PIF}`    | :math:`0.5 u_{in}`                                                          | PI output                 |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  PIAW_ys  | :math:`ys_{PIAW}`  | :math:`0.5 u_{in}`                                                          | PI summation before limit |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  PIAW_y   | :math:`y_{PIAW}`   | :math:`PIAW_{lim zi} ys_{PIAW} - 0.5 PIAW_{lim zl} + 0.5 PIAW_{lim zu}`     | PI output                 |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  PIAWF_ys | :math:`ys_{PIAWF}` | :math:`0.5 u_{in}`                                                          | PI summation before limit |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  PIAWF_y  | :math:`y_{PIAWF}`  | :math:`PIAWF_{lim zi} ys_{PIAWF} - 0.5 PIAWF_{lim zl} + 0.5 PIAWF_{lim zu}` | PI output                 |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+
|  ze       | :math:`ze`         | :math:`ExtEvent`                                                            |                           |      | v_str      |
+-----------+--------------------+-----------------------------------------------------------------------------+---------------------------+------+------------+

Differential Equations

+-----------+--------------------+-------+---------------------------------------------------------------------------------------+---------+
|   Name    |       Symbol       | Type  |                           RHS of Equation "T x' = f(x, y)"                            | T (LHS) |
+===========+====================+=======+=======================================================================================+=========+
|  PI_xi    | :math:`xi_{PI}`    | State | :math:`0.1 u_{in}`                                                                    |         |
+-----------+--------------------+-------+---------------------------------------------------------------------------------------+---------+
|  PIF_xi   | :math:`xi_{PIF}`   | State | :math:`u_{in} \left(0.5 - 0.5 z_{f}\right)`                                           |         |
+-----------+--------------------+-------+---------------------------------------------------------------------------------------+---------+
|  PIAW_xi  | :math:`xi_{PIAW}`  | State | :math:`0.5 u_{in} + 1.0 y_{PIAW} - 1.0 ys_{PIAW}`                                     |         |
+-----------+--------------------+-------+---------------------------------------------------------------------------------------+---------+
|  PIAWF_xi | :math:`xi_{PIAWF}` | State | :math:`\left(0.5 - 0.5 z_{f}\right) \left(u_{in} + 2 y_{PIAWF} - 2 ys_{PIAWF}\right)` |         |
+-----------+--------------------+-------+---------------------------------------------------------------------------------------+---------+

Algebraic Equations

+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|   Name    |       Symbol       | Type  |                                                                                       RHS of Equation "0 = g(x, y)"                                                                                        |
+===========+====================+=======+============================================================================================================================================================================================================+
|  uin      | :math:`u_{in}`     | Algeb | :math:`- u_{in} + \sin{\left(t_{dae} \right)}`                                                                                                                                                             |
+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|  zf       | :math:`z_{f}`      | Algeb | :math:`- z_{f} + \begin{cases} 0 & \text{for}\: t_{dae} \leq 2 \\1 & \text{for}\: t_{dae} \leq 6 \\0 & \text{for}\: t_{dae} \leq 12 \\1 & \text{for}\: t_{dae} \leq 15 \\0 & \text{otherwise} \end{cases}` |
+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|  PI_y     | :math:`y_{PI}`     | Algeb | :math:`u_{in} + xi_{PI} - y_{PI}`                                                                                                                                                                          |
+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|  PIF_y    | :math:`y_{PIF}`    | Algeb | :math:`\left(1 - z_{f}\right) \left(0.5 u_{in} + xi_{PIF} - y_{PIF}\right)`                                                                                                                                |
+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|  PIAW_ys  | :math:`ys_{PIAW}`  | Algeb | :math:`0.5 u_{in} + xi_{PIAW} - ys_{PIAW}`                                                                                                                                                                 |
+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|  PIAW_y   | :math:`y_{PIAW}`   | Algeb | :math:`PIAW_{lim zi} ys_{PIAW} - 0.5 PIAW_{lim zl} + 0.5 PIAW_{lim zu} - y_{PIAW}`                                                                                                                         |
+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|  PIAWF_ys | :math:`ys_{PIAWF}` | Algeb | :math:`\left(1 - z_{f}\right) \left(0.5 u_{in} + xi_{PIAWF} - ys_{PIAWF}\right)`                                                                                                                           |
+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|  PIAWF_y  | :math:`y_{PIAWF}`  | Algeb | :math:`\left(1 - z_{f}\right) \left(PIAWF_{lim zi} ys_{PIAWF} - 0.5 PIAWF_{lim zl} + 0.5 PIAWF_{lim zu} - y_{PIAWF}\right)`                                                                                |
+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|  ze       | :math:`ze`         | Algeb | :math:`ExtEvent - ze`                                                                                                                                                                                      |
+-----------+--------------------+-------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+

Services

+-------------+--------------------------+-----------+---------------+
|    Name     |          Symbol          | Equation  |     Type      |
+=============+==========================+===========+===============+
|  PIF_flag   | :math:`z^{flag}_{PIF}`   | :math:`0` | EventFlag     |
+-------------+--------------------------+-----------+---------------+
|  PIAWF_flag | :math:`z^{flag}_{PIAWF}` | :math:`0` | EventFlag     |
+-------------+--------------------------+-----------+---------------+
|  ExtEvent   | :math:`ExtEvent`         | :math:`0` | ExtendedEvent |
+-------------+--------------------------+-----------+---------------+

Discrete

+------------+---------------------+-------------+------+
|    Name    |       Symbol        |    Type     | Info |
+============+=====================+=============+======+
|  PIAW_lim  | :math:`lim_{PIAW}`  | HardLimiter |      |
+------------+---------------------+-------------+------+
|  PIAWF_lim | :math:`lim_{PIAWF}` | HardLimiter |      |
+------------+---------------------+-------------+------+

Blocks

+--------+---------------+-----------------+------+
|  Name  |    Symbol     |      Type       | Info |
+========+===============+=================+======+
|  PI    | :math:`PI`    | PIController    |      |
+--------+---------------+-----------------+------+
|  PIF   | :math:`PIF`   | PIFreeze        |      |
+--------+---------------+-----------------+------+
|  PIAW  | :math:`PIAW`  | PITrackAW       |      |
+--------+---------------+-----------------+------+
|  PIAWF | :math:`PIAWF` | PITrackAWFreeze |      |
+--------+---------------+-----------------+------+


.. _TestLagAWFreeze:

--------------------------------------------------------------------------------
TestLagAWFreeze
--------------------------------------------------------------------------------

Group Experimental_


Parameters

+-------+-----------+-------------------+---------+--------+-----------+------------+
| Name  |  Symbol   |    Description    | Default |  Unit  |   Type    | Properties |
+=======+===========+===================+=========+========+===========+============+
|  idx  |           | unique device idx |         |        | DataParam |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  u    | :math:`u` | connection status | 1       | *bool* | NumParam  |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+
|  name |           | device name       |         |        | DataParam |            |
+-------+-----------+-------------------+---------+--------+-----------+------------+

Variables

+----------+-------------------+--------------------+--------------------------------+------+------------+
|   Name   |      Symbol       |   Initial Value    |          Description           | Unit | Properties |
+==========+===================+====================+================================+======+============+
|  LGF_y   | :math:`y_{LGF}`   | :math:`1.0 u_{in}` | State in lag transfer function |      | v_str      |
+----------+-------------------+--------------------+--------------------------------+------+------------+
|  LGAWF_y | :math:`y_{LGAWF}` | :math:`1.0 u_{in}` | State in lag TF                |      | v_str      |
+----------+-------------------+--------------------+--------------------------------+------+------------+
|  uin     | :math:`u_{in}`    | :math:`0`          |                                |      | v_str      |
+----------+-------------------+--------------------+--------------------------------+------+------------+
|  zf      | :math:`z_{f}`     | :math:`0`          |                                |      | v_str      |
+----------+-------------------+--------------------+--------------------------------+------+------------+

Differential Equations

+----------+-------------------+-------+--------------------------------------------------------------------+-------------+
|   Name   |      Symbol       | Type  |                  RHS of Equation "T x' = f(x, y)"                  |   T (LHS)   |
+==========+===================+=======+====================================================================+=============+
|  LGF_y   | :math:`y_{LGF}`   | State | :math:`\left(1 - z_{f}\right) \left(1.0 u_{in} - y_{LGF}\right)`   | :math:`1.0` |
+----------+-------------------+-------+--------------------------------------------------------------------+-------------+
|  LGAWF_y | :math:`y_{LGAWF}` | State | :math:`\left(1 - z_{f}\right) \left(1.0 u_{in} - y_{LGAWF}\right)` | :math:`1.0` |
+----------+-------------------+-------+--------------------------------------------------------------------+-------------+

Algebraic Equations

+------+----------------+-------+--------------------------------------------------------------------------------------------------------------------------------------+
| Name |     Symbol     | Type  |                                                    RHS of Equation "0 = g(x, y)"                                                     |
+======+================+=======+======================================================================================================================================+
|  uin | :math:`u_{in}` | Algeb | :math:`- u_{in} + \sin{\left(t_{dae} \right)}`                                                                                       |
+------+----------------+-------+--------------------------------------------------------------------------------------------------------------------------------------+
|  zf  | :math:`z_{f}`  | Algeb | :math:`- z_{f} + \begin{cases} 0 & \text{for}\: t_{dae} \leq 2 \\1 & \text{for}\: t_{dae} \leq 6 \\0 & \text{otherwise} \end{cases}` |
+------+----------------+-------+--------------------------------------------------------------------------------------------------------------------------------------+

Services

+-------------+--------------------------+-----------+-----------+
|    Name     |          Symbol          | Equation  |   Type    |
+=============+==========================+===========+===========+
|  LGF_flag   | :math:`z^{flag}_{LGF}`   | :math:`0` | EventFlag |
+-------------+--------------------------+-----------+-----------+
|  LGAWF_flag | :math:`z^{flag}_{LGAWF}` | :math:`0` | EventFlag |
+-------------+--------------------------+-----------+-----------+

Discrete

+------------+---------------------+------------+----------------+
|    Name    |       Symbol        |    Type    |      Info      |
+============+=====================+============+================+
|  LGAWF_lim | :math:`lim_{LGAWF}` | AntiWindup | Limiter in Lag |
+------------+---------------------+------------+----------------+

Blocks

+--------+---------------+-------------+------+
|  Name  |    Symbol     |    Type     | Info |
+========+===============+=============+======+
|  LGF   | :math:`LGF`   | LagFreeze   |      |
+--------+---------------+-------------+------+
|  LGAWF | :math:`LGAWF` | LagAWFreeze |      |
+--------+---------------+-------------+------+


