.. _RenPlant:

================================================================================
RenPlant
================================================================================

    Renewable plant control group.
    

Common Parameters: u, name

Available models:
REPCA1_

.. _REPCA1:

--------------------------------------------------------------------------------
REPCA1
--------------------------------------------------------------------------------

Group RenPlant_


    REPCA1 plat control model.
    
Parameters

+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|   Name   |      Symbol      |                           Description                            | Default |  Unit  |   Type    | Properties |
+==========+==================+==================================================================+=========+========+===========+============+
|  idx     |                  | unique device idx                                                |         |        | DataParam |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  u       | :math:`u`        | connection status                                                | 1       | *bool* | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  name    |                  | device name                                                      |         |        | DataParam |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  ree     |                  | RenExciter idx                                                   |         |        | IdxParam  | mandatory  |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  line    |                  | Idx of line that connect to measured bus                         |         |        | IdxParam  | mandatory  |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  busr    |                  | Optional remote bus for voltage and freq. measurement            |         |        | IdxParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  busf    |                  | BusFreq idx for mode 2                                           |         |        | IdxParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  VCFlag  |                  | Droop flag; 0-with droop if power factor ctrl, 1-line drop comp. |         | *bool* | NumParam  | mandatory  |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  RefFlag |                  | Q/V select; 0-Q control, 1-V control                             |         | *bool* | NumParam  | mandatory  |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Fflag   |                  | Frequency control flag; 0-disable, 1-enable                      |         | *bool* | NumParam  | mandatory  |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Tfltr   | :math:`T_{fltr}` | V or Q filter time const.                                        | 0.020   |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Kp      | :math:`K_p`      | Q proportional gain                                              | 1       |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Ki      | :math:`K_i`      | Q integral gain                                                  | 0.100   |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Tft     | :math:`T_{ft}`   | Lead time constant                                               | 1       |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Tfv     | :math:`T_{fv}`   | Lag time constant                                                | 1       |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Vfrz    | :math:`V_{frz}`  | Voltage below which s2 is frozen                                 | 0.800   |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Rc      | :math:`R_c`      | Line drop compensation R                                         |         |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Xc      | :math:`X_c`      | Line drop compensation R                                         |         |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Kc      | :math:`K_c`      | Reactive power compensation gain                                 | 0       |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  emax    | :math:`e_{max}`  | Upper limit on deadband output                                   | 999     |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  emin    | :math:`e_{min}`  | Lower limit on deadband output                                   | -999    |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  dbd1    | :math:`d_{bd1}`  | Lower threshold for reactive power control deadband (<=0)        | -0.100  |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  dbd2    | :math:`d_{bd2}`  | Upper threshold for reactive power control deadband (>=0)        | 0.100   |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Qmax    | :math:`Q_{max}`  | Upper limit on output of V-Q control                             | 999     |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Qmin    | :math:`Q_{min}`  | Lower limit on output of V-Q control                             | -999    |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Kpg     | :math:`K_{pg}`   | Proportional gain for power control                              | 1       |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Kig     | :math:`K_{ig}`   | Integral gain for power control                                  | 0.100   |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Tp      | :math:`T_p`      | Time constant for P measurement                                  | 0.020   |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  fdbd1   | :math:`f_{dbd1}` | Lower threshold for freq. error deadband                         | -0.010  |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  fdbd2   | :math:`f_{dbd2}` | Upper threshold for freq. error deadband                         | 0.010   |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  femax   | :math:`f_{emax}` | Upper limit for freq. error                                      | 0.050   |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  femin   | :math:`f_{emin}` | Lower limit for freq. error                                      | -0.050  |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Pmax    | :math:`P_{max}`  | Upper limit on power error (used by PI ctrl.)                    | 999     |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Pmin    | :math:`P_{min}`  | Lower limit on power error (used by PI ctrl.)                    | -999    |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Tg      | :math:`T_g`      | Power controller lag time constant                               | 0.020   |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Ddn     | :math:`D_{dn}`   | Reciprocal of droop for over-freq. conditions                    | 10      |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  Dup     | :math:`D_{up}`   | Reciprocal of droop for under-freq. conditions                   | 10      |        | NumParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  reg     |                  | Retrieved RenGen idx                                             |         |        | ExtParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  bus     |                  | Retrieved bus idx                                                |         |        | ExtParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  bus1    |                  | Retrieved Line.bus1 idx                                          |         |        | ExtParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  bus2    |                  | Retrieved Line.bus2 idx                                          |         |        | ExtParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  r       |                  | Retrieved Line.r                                                 |         |        | ExtParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+
|  x       |                  | Retrieved Line.x                                                 |         |        | ExtParam  |            |
+----------+------------------+------------------------------------------------------------------+---------+--------+-----------+------------+

Variables

+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|    Name     |       Symbol        |                                              Initial Value                                              |               Description                |  Unit  | Properties |
+=============+=====================+=========================================================================================================+==========================================+========+============+
|  s0_y       | :math:`y_{s_0}`     | :math:`SWVC_{s0} \left(K_{c} Q_{line} + V\right) + SWVC_{s1} V_{comp}`                                  | State in lag transfer function           |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s1_y       | :math:`y_{s_1}`     | :math:`Q_{line}`                                                                                        | State in lag transfer function           |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s2_xi      | :math:`xi_{s_2}`    | :math:`0.0`                                                                                             | Integrator output                        |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s3_x       | :math:`x'_{s_3}`    | :math:`y_{s_2}`                                                                                         | State in lead-lag                        |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s4_y       | :math:`y_{s_4}`     | :math:`P_{line}`                                                                                        | State in lag transfer function           |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s5_xi      | :math:`xi_{s_5}`    | :math:`0.0`                                                                                             | Integrator output                        |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s6_y       | :math:`y_{s_6}`     | :math:`y_{s_5}`                                                                                         | State in lag transfer function           |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  Vref       | :math:`Q_{ref}`     | :math:`V_{ref0}`                                                                                        |                                          |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  Qlinef     | :math:`Q_{linef}`   | :math:`Q_{line0}`                                                                                       |                                          |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  Refsel     | :math:`R_{efsel}`   | :math:`SWRef_{s0} \left(Q_{linef} - y_{s_1}\right) + SWRef_{s1} \left(Q_{ref} - y_{s_0}\right)`         |                                          |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  dbd_y      | :math:`y_{d^{bd}}`  | :math:`dbd_{db zl} \left(R_{efsel} - d_{bd1}\right) + dbd_{db zu} \left(R_{efsel} - d_{bd2}\right)`     | Deadband type 1 output                   |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  enf        | :math:`e_{nf}`      | :math:`eHL_{zi} y_{d^{bd}} + eHL_{zl} e_{min} + eHL_{zu} e_{max}`                                       | e Hardlimit output before freeze         |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s2_ys      | :math:`ys_{s_2}`    | :math:`K_{p} e_{hld}`                                                                                   | PI summation before limit                |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s2_y       | :math:`y_{s_2}`     | :math:`Q_{max} s_{2 lim zu} + Q_{min} s_{2 lim zl} + s_{2 lim zi} ys_{s_2}`                             | PI output                                |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s3_y       | :math:`y_{s_3}`     | :math:`y_{s_2}`                                                                                         | Output of lead-lag                       |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  ferr       | :math:`f_{err}`     | :math:`- f + f_{ref}`                                                                                   | Frequency deviation                      |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  fdbd_y     | :math:`y_{f^{dbd}}` | :math:`fdbd_{db zl} \left(- f_{dbd1} + f_{err}\right) + fdbd_{db zu} \left(- f_{dbd2} + f_{err}\right)` | Deadband type 1 output                   |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  Plant_pref | :math:`P_{ref}`     | :math:`P_{line0}`                                                                                       | Plant P ref                              |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  Plerr      | :math:`P_{lerr}`    | :math:`P_{ref} - y_{s_4}`                                                                               | Pline error                              |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  Perr       | :math:`P_{err}`     | :math:`D_{dn} fdlt_{0 z1} y_{f^{dbd}} + D_{up} fdlt_{0 z0} y_{f^{dbd}} + P_{lerr}`                      | Power error before fe limits             |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s5_ys      | :math:`ys_{s_5}`    | :math:`K_{pg} \left(P_{err} feHL_{zi} + f_{emax} feHL_{zu} + f_{emin} feHL_{zl}\right)`                 | PI summation before limit                |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  s5_y       | :math:`y_{s_5}`     | :math:`P_{max} s_{5 lim zu} + P_{min} s_{5 lim zl} + s_{5 lim zi} ys_{s_5}`                             | PI output                                |        | v_str      |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  Pext       | :math:`P_{ext}`     |                                                                                                         | Pref from RenExciter renamed as Pext     |        |            |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  Qext       | :math:`Q_{ext}`     |                                                                                                         | Qref from RenExciter renamed as Qext     |        |            |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  v          | :math:`V`           |                                                                                                         | Bus (or busr, if given) terminal voltage |        |            |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  a          | :math:`\theta`      |                                                                                                         | Bus (or busr, if given) phase angle      |        |            |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  f          | :math:`f`           |                                                                                                         | Bus frequency                            | *p.u.* |            |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  v1         | :math:`V_{1}`       |                                                                                                         | Voltage at Line.bus1                     |        |            |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  v2         | :math:`V_{2}`       |                                                                                                         | Voltage at Line.bus2                     |        |            |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  a1         | :math:`\theta_1`    |                                                                                                         | Angle at Line.bus1                       |        |            |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+
|  a2         | :math:`\theta_2`    |                                                                                                         | Angle at Line.bus2                       |        |            |
+-------------+---------------------+---------------------------------------------------------------------------------------------------------+------------------------------------------+--------+------------+

Differential Equations

+--------+------------------+-------+------------------------------------------------------------------------------------------------------------------+------------------+
|  Name  |      Symbol      | Type  |                                         RHS of Equation "T x' = f(x, y)"                                         |     T (LHS)      |
+========+==================+=======+==================================================================================================================+==================+
|  s0_y  | :math:`y_{s_0}`  | State | :math:`SWVC_{s0} \left(K_{c} Q_{line} + V\right) + SWVC_{s1} V_{comp} - y_{s_0}`                                 | :math:`T_{fltr}` |
+--------+------------------+-------+------------------------------------------------------------------------------------------------------------------+------------------+
|  s1_y  | :math:`y_{s_1}`  | State | :math:`Q_{line} - y_{s_1}`                                                                                       | :math:`T_{fltr}` |
+--------+------------------+-------+------------------------------------------------------------------------------------------------------------------+------------------+
|  s2_xi | :math:`xi_{s_2}` | State | :math:`K_{i} \left(e_{hld} + 2 y_{s_2} - 2 ys_{s_2}\right)`                                                      |                  |
+--------+------------------+-------+------------------------------------------------------------------------------------------------------------------+------------------+
|  s3_x  | :math:`x'_{s_3}` | State | :math:`- x'_{s_3} + y_{s_2}`                                                                                     | :math:`T_{fv}`   |
+--------+------------------+-------+------------------------------------------------------------------------------------------------------------------+------------------+
|  s4_y  | :math:`y_{s_4}`  | State | :math:`P_{line} - y_{s_4}`                                                                                       | :math:`T_p`      |
+--------+------------------+-------+------------------------------------------------------------------------------------------------------------------+------------------+
|  s5_xi | :math:`xi_{s_5}` | State | :math:`K_{ig} \left(P_{err} feHL_{zi} + f_{emax} feHL_{zu} + f_{emin} feHL_{zl} + 2 y_{s_5} - 2 ys_{s_5}\right)` |                  |
+--------+------------------+-------+------------------------------------------------------------------------------------------------------------------+------------------+
|  s6_y  | :math:`y_{s_6}`  | State | :math:`y_{s_5} - y_{s_6}`                                                                                        | :math:`T_g`      |
+--------+------------------+-------+------------------------------------------------------------------------------------------------------------------+------------------+

Algebraic Equations

+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|    Name     |       Symbol        |   Type   |                                                           RHS of Equation "0 = g(x, y)"                                                           |
+=============+=====================+==========+===================================================================================================================================================+
|  Vref       | :math:`Q_{ref}`     | Algeb    | :math:`- Q_{ref} + V_{ref0}`                                                                                                                      |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  Qlinef     | :math:`Q_{linef}`   | Algeb    | :math:`Q_{line0} - Q_{linef}`                                                                                                                     |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  Refsel     | :math:`R_{efsel}`   | Algeb    | :math:`- R_{efsel} + SWRef_{s0} \left(Q_{linef} - y_{s_1}\right) + SWRef_{s1} \left(Q_{ref} - y_{s_0}\right)`                                     |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  dbd_y      | :math:`y_{d^{bd}}`  | Algeb    | :math:`dbd_{db zl} \left(R_{efsel} - d_{bd1}\right) + dbd_{db zu} \left(R_{efsel} - d_{bd2}\right) - y_{d^{bd}}`                                  |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  enf        | :math:`e_{nf}`      | Algeb    | :math:`eHL_{zi} y_{d^{bd}} + eHL_{zl} e_{min} + eHL_{zu} e_{max} - e_{nf}`                                                                        |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  s2_ys      | :math:`ys_{s_2}`    | Algeb    | :math:`K_{p} e_{hld} + xi_{s_2} - ys_{s_2}`                                                                                                       |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  s2_y       | :math:`y_{s_2}`     | Algeb    | :math:`Q_{max} s_{2 lim zu} + Q_{min} s_{2 lim zl} + s_{2 lim zi} ys_{s_2} - y_{s_2}`                                                             |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  s3_y       | :math:`y_{s_3}`     | Algeb    | :math:`T_{ft} \left(- x'_{s_3} + y_{s_2}\right) + T_{fv} x'_{s_3} - T_{fv} y_{s_3} + s_{3 LT1 z1} s_{3 LT2 z1} \left(- x'_{s_3} + y_{s_3}\right)` |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  ferr       | :math:`f_{err}`     | Algeb    | :math:`- f - f_{err} + f_{ref}`                                                                                                                   |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  fdbd_y     | :math:`y_{f^{dbd}}` | Algeb    | :math:`fdbd_{db zl} \left(- f_{dbd1} + f_{err}\right) + fdbd_{db zu} \left(- f_{dbd2} + f_{err}\right) - y_{f^{dbd}}`                             |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  Plant_pref | :math:`P_{ref}`     | Algeb    | :math:`P_{line0} - P_{ref}`                                                                                                                       |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  Plerr      | :math:`P_{lerr}`    | Algeb    | :math:`- P_{lerr} + P_{ref} - y_{s_4}`                                                                                                            |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  Perr       | :math:`P_{err}`     | Algeb    | :math:`D_{dn} fdlt_{0 z1} y_{f^{dbd}} + D_{up} fdlt_{0 z0} y_{f^{dbd}} - P_{err} + P_{lerr}`                                                      |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  s5_ys      | :math:`ys_{s_5}`    | Algeb    | :math:`K_{pg} \left(P_{err} feHL_{zi} + f_{emax} feHL_{zu} + f_{emin} feHL_{zl}\right) + xi_{s_5} - ys_{s_5}`                                     |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  s5_y       | :math:`y_{s_5}`     | Algeb    | :math:`P_{max} s_{5 lim zu} + P_{min} s_{5 lim zl} + s_{5 lim zi} ys_{s_5} - y_{s_5}`                                                             |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  Pext       | :math:`P_{ext}`     | ExtAlgeb | :math:`SWF_{s1} y_{s_6}`                                                                                                                          |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  Qext       | :math:`Q_{ext}`     | ExtAlgeb | :math:`y_{s_3}`                                                                                                                                   |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  v          | :math:`V`           | ExtAlgeb | :math:`0`                                                                                                                                         |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  a          | :math:`\theta`      | ExtAlgeb | :math:`0`                                                                                                                                         |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  f          | :math:`f`           | ExtAlgeb | :math:`0`                                                                                                                                         |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  v1         | :math:`V_{1}`       | ExtAlgeb | :math:`0`                                                                                                                                         |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  v2         | :math:`V_{2}`       | ExtAlgeb | :math:`0`                                                                                                                                         |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  a1         | :math:`\theta_1`    | ExtAlgeb | :math:`0`                                                                                                                                         |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+
|  a2         | :math:`\theta_2`    | ExtAlgeb | :math:`0`                                                                                                                                         |
+-------------+---------------------+----------+---------------------------------------------------------------------------------------------------------------------------------------------------+

Services

+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|   Name    |      Symbol       |                                                                               Equation                                                                               |     Type     |
+===========+===================+======================================================================================================================================================================+==============+
|  Isign    | :math:`I_{sign}`  | :math:`0`                                                                                                                                                            | CurrentSign  |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  Iline    | :math:`I_{line}`  | :math:`\frac{I_{sign} \left(V_{1} e^{i \theta_1} - V_{2} e^{i \theta_2}\right)}{r + i x}`                                                                            | VarService   |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  Iline0   | :math:`I_{line0}` | :math:`I_{line}`                                                                                                                                                     | ConstService |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  Pline    | :math:`P_{line}`  | :math:`\operatorname{re}{\left(I_{sign} V_{1} \operatorname{conj}{\left(\frac{V_{1} e^{i \theta_1} - V_{2} e^{i \theta_2}}{r + i x} \right)} e^{i \theta_1}\right)}` | VarService   |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  Pline0   | :math:`P_{line0}` | :math:`P_{line}`                                                                                                                                                     | ConstService |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  Qline    | :math:`Q_{line}`  | :math:`\operatorname{im}{\left(I_{sign} V_{1} \operatorname{conj}{\left(\frac{V_{1} e^{i \theta_1} - V_{2} e^{i \theta_2}}{r + i x} \right)} e^{i \theta_1}\right)}` | VarService   |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  Qline0   | :math:`Q_{line0}` | :math:`Q_{line}`                                                                                                                                                     | ConstService |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  Vcomp    | :math:`V_{comp}`  | :math:`\operatorname{abs}{\left(- I_{line} \left(R_{cs} + i X_{cs}\right) + V e^{i \theta} \right)}`                                                                 | VarService   |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  Vref0    | :math:`V_{ref0}`  | :math:`SWVC_{s0} \left(K_{c} Q_{line0} + V\right) + SWVC_{s1} V_{comp}`                                                                                              | ConstService |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  zf       | :math:`z_f`       | :math:`f_{rz} \left(V < V_{frz}\right)`                                                                                                                              | VarService   |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  eHld     | :math:`e_{hld}`   | :math:`0`                                                                                                                                                            | VarHold      |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+
|  Freq_ref | :math:`f_{ref}`   | :math:`1.0`                                                                                                                                                          | ConstService |
+-----------+-------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------+

Discrete

+----------+----------------------+-------------+------------------------------------------+
|   Name   |        Symbol        |    Type     |                   Info                   |
+==========+======================+=============+==========================================+
|  SWVC    | :math:`SW_{VC}`      | Switcher    |                                          |
+----------+----------------------+-------------+------------------------------------------+
|  SWRef   | :math:`SW_{Ref}`     | Switcher    |                                          |
+----------+----------------------+-------------+------------------------------------------+
|  SWF     | :math:`SW_{F}`       | Switcher    |                                          |
+----------+----------------------+-------------+------------------------------------------+
|  dbd_db  | :math:`db_{d^{bd}}`  | DeadBand    |                                          |
+----------+----------------------+-------------+------------------------------------------+
|  eHL     | :math:`e_{HL}`       | Limiter     | Hardlimit on deadband output             |
+----------+----------------------+-------------+------------------------------------------+
|  s2_lim  | :math:`lim_{s_2}`    | HardLimiter |                                          |
+----------+----------------------+-------------+------------------------------------------+
|  s3_LT1  | :math:`LT_{s_3}`     | LessThan    |                                          |
+----------+----------------------+-------------+------------------------------------------+
|  s3_LT2  | :math:`LT_{s_3}`     | LessThan    |                                          |
+----------+----------------------+-------------+------------------------------------------+
|  fdbd_db | :math:`db_{f^{dbd}}` | DeadBand    |                                          |
+----------+----------------------+-------------+------------------------------------------+
|  fdlt0   | :math:`f_{dlt0}`     | LessThan    | frequency deadband output less than zero |
+----------+----------------------+-------------+------------------------------------------+
|  feHL    | :math:`f_{eHL}`      | Limiter     | Limiter for power (frequency) error      |
+----------+----------------------+-------------+------------------------------------------+
|  s5_lim  | :math:`lim_{s_5}`    | HardLimiter |                                          |
+----------+----------------------+-------------+------------------------------------------+

Blocks

+-------+-----------------+-----------+------------------------------+
| Name  |     Symbol      |   Type    |             Info             |
+=======+=================+===========+==============================+
|  s0   | :math:`s_0`     | Lag       | V filter                     |
+-------+-----------------+-----------+------------------------------+
|  s1   | :math:`s_1`     | Lag       |                              |
+-------+-----------------+-----------+------------------------------+
|  dbd  | :math:`d^{bd}`  | DeadBand1 |                              |
+-------+-----------------+-----------+------------------------------+
|  s2   | :math:`s_2`     | PITrackAW | PI controller for eHL output |
+-------+-----------------+-----------+------------------------------+
|  s3   | :math:`s_3`     | LeadLag   |                              |
+-------+-----------------+-----------+------------------------------+
|  s4   | :math:`s_4`     | Lag       | Pline filter                 |
+-------+-----------------+-----------+------------------------------+
|  fdbd | :math:`f^{dbd}` | DeadBand1 | frequency error deadband     |
+-------+-----------------+-----------+------------------------------+
|  s5   | :math:`s_5`     | PITrackAW | PI for fe limiter output     |
+-------+-----------------+-----------+------------------------------+
|  s6   | :math:`s_6`     | Lag       | Output filter for Pext       |
+-------+-----------------+-----------+------------------------------+


Config Fields in [REPCA1]

+---------+----------------+-------+------------------------------------------------+-----------------+
| Option  |     Symbol     | Value |                      Info                      | Accepted values |
+=========+================+=======+================================================+=================+
|  kqs    | :math:`K_{qs}` | 2     | Tracking gain for reactive power PI controller |                 |
+---------+----------------+-------+------------------------------------------------+-----------------+
|  ksg    | :math:`K_{sg}` | 2     | Tracking gain for active power PI controller   |                 |
+---------+----------------+-------+------------------------------------------------+-----------------+
|  freeze | :math:`f_{rz}` | 1     | Voltage dip freeze flag; 1-enable, 0-disable   |                 |
+---------+----------------+-------+------------------------------------------------+-----------------+


