.. _DG:

================================================================================
DG
================================================================================

    Distributed generation (small-scale).
    

Common Parameters: u, name

Available models:
PVD1_

.. _PVD1:

--------------------------------------------------------------------------------
PVD1
--------------------------------------------------------------------------------

Group DG_


    Distributed PV model. (TODO: work in progress)

    Power rating specified in `Sn`.

    Reference: ESIG, WECC Distributed and Small PV Plants Generic Model (PVD1), [Online],
    Available: https://www.esig.energy/wiki-main-page/wecc-distributed-and-small-pv-plants-generic-model-pvd1/
    
Parameters

+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  Name   |      Symbol      |                             Description                              | Default |  Unit  |   Type    | Properties |
+=========+==================+======================================================================+=========+========+===========+============+
|  idx    |                  | unique device idx                                                    |         |        | DataParam |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  u      | :math:`u`        | connection status                                                    | 1       | *bool* | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  name   |                  | device name                                                          |         |        | DataParam |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  bus    |                  | interface bus id                                                     |         |        | IdxParam  | mandatory  |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  gen    |                  | static generator index                                               |         |        | IdxParam  | mandatory  |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  Sn     | :math:`S_n`      | Model MVA base                                                       | 100     | *MVA*  | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  xc     | :math:`x_c`      | coupling reactance                                                   | 0       | *p.u.* | NumParam  | z          |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  igreg  |                  | Remote bus idx for droop response, None for local                    |         |        | IdxParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  qmx    | :math:`q_{mx}`   | Max. reactive power command                                          | 0.330   |        | NumParam  | power      |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  qmn    | :math:`q_{mn}`   | Min. reactive power command                                          | -0.330  |        | NumParam  | power      |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  v0     | :math:`v_0`      | Lower limit of deadband for Vdroop response                          | 0       | *pu*   | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  v1     | :math:`v_1`      | Upper limit of deadband for Vdroop response                          | 0       | *pu*   | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  dqdv   | :math:`dq/dv`    | Q-V droop characteristics                                            | 0       |        | NumParam  | power      |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  fdbd   | :math:`f_{dbd}`  | frequency deviation deadband                                         | -0.010  |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  ddn    | :math:`D_{dn}`   | Gain after f deadband                                                | 0       |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  ialim  | :math:`I_{alim}` | Apparent power limit                                                 | 1.300   |        | NumParam  | current    |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  vt0    | :math:`V_{t0}`   | Voltage tripping response curve point 0                              | 0.880   |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  vt1    | :math:`V_{t1}`   | Voltage tripping response curve point 1                              | 0.900   |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  vt2    | :math:`V_{t2}`   | Voltage tripping response curve point 2                              | 1.100   |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  vt3    | :math:`V_{t3}`   | Voltage tripping response curve point 3                              | 1.200   |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  vrflag | :math:`z_{VR}`   | Voltage tripping is latching (0) or partially self-resetting (0-1)   | 0       |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  ft0    | :math:`f_{t0}`   | Frequency tripping response curve point 0                            | 59.500  |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  ft1    | :math:`f_{t1}`   | Frequency tripping response curve point 1                            | 59.700  |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  ft2    | :math:`f_{t2}`   | Frequency tripping response curve point 2                            | 60.300  |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  ft3    | :math:`f_{t3}`   | Frequency tripping response curve point 3                            | 60.500  |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  frflag | :math:`z_{FR}`   | Frequency tripping is latching (0) or partially self-resetting (0-1) | 0       |        | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  tip    | :math:`T_{ip}`   | Inverter active current lag time constant                            | 0.020   | *s*    | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+
|  tiq    | :math:`T_{iq}`   | Inverter reactive current lag time constant                          | 0.020   | *s*    | NumParam  |            |
+---------+------------------+----------------------------------------------------------------------+---------+--------+-----------+------------+

Variables

+------+----------------+---------------+---------------------------------+--------+------------+
| Name |     Symbol     | Initial Value |           Description           |  Unit  | Properties |
+======+================+===============+=================================+========+============+
|  v   | :math:`V`      |               | bus (or igreg) terminal voltage | *p.u.* |            |
+------+----------------+---------------+---------------------------------+--------+------------+
|  a   | :math:`\theta` |               | bus (or igreg) phase angle      | *rad.* |            |
+------+----------------+---------------+---------------------------------+--------+------------+

Algebraic Equations

+------+----------------+----------+-------------------------------+
| Name |     Symbol     |   Type   | RHS of Equation "0 = g(x, y)" |
+======+================+==========+===============================+
|  v   | :math:`V`      | ExtAlgeb | :math:`0`                     |
+------+----------------+----------+-------------------------------+
|  a   | :math:`\theta` | ExtAlgeb | :math:`0`                     |
+------+----------------+----------+-------------------------------+


