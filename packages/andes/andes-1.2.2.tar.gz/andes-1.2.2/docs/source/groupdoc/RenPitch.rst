.. _RenPitch:

================================================================================
RenPitch
================================================================================

    Renewable generator pitch controller group.
    

Common Parameters: u, name, rea

Available models:
WTPTA1_

.. _WTPTA1:

--------------------------------------------------------------------------------
WTPTA1
--------------------------------------------------------------------------------

Group RenPitch_


    Wind turbine pitch control model.
    
Parameters

+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  Name   |        Symbol        |             Description              | Default |  Unit  |   Type    | Properties |
+=========+======================+======================================+=========+========+===========+============+
|  idx    |                      | unique device idx                    |         |        | DataParam |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  u      | :math:`u`            | connection status                    | 1       | *bool* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  name   |                      | device name                          |         |        | DataParam |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  rea    |                      | Renewable aerodynamics model idx     |         |        | IdxParam  | mandatory  |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  Kiw    | :math:`K_{iw}`       | Pitch-control integral gain          | 0.100   | *p.u.* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  Kpw    | :math:`K_{pw}`       | Pitch-control proportional gain      | 0       | *p.u.* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  Kic    | :math:`K_{ic}`       | Pitch-compensation integral gain     | 0.100   | *p.u.* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  Kpc    | :math:`K_{pc}`       | Pitch-compensation proportional gain | 0       | *p.u.* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  Kcc    | :math:`K_{cc}`       | Gain for P diff                      | 0       | *p.u.* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  Tp     | :math:`T_{\theta}`   | Blade response time const.           | 0.300   | *s*    | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  thmax  | :math:`\theta_{max}` | Max. pitch angle                     | 30      | *deg.* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  thmin  | :math:`\theta_{min}` | Min. pitch angle                     | 0       | *deg.* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  dthmax | :math:`\theta_{max}` | Max. pitch angle rate                | 5       | *deg.* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  dthmin | :math:`\theta_{min}` | Min. pitch angle rate                | -5      | *deg.* | NumParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  rego   |                      |                                      | 0       |        | ExtParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+
|  ree    |                      |                                      | 0       |        | ExtParam  |            |
+---------+----------------------+--------------------------------------+---------+--------+-----------+------------+

Variables

+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|   Name   |        Symbol         |                                      Initial Value                                      |       Description        | Unit | Properties |
+==========+=======================+=========================================================================================+==========================+======+============+
|  PIc_xi  | :math:`xi_{PI_c}`     | :math:`0.0`                                                                             | Integrator output        |      | v_str      |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  PIw_xi  | :math:`xi_{PI_w}`     | :math:`0.0`                                                                             | Integrator output        |      | v_str      |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  LG_y    | :math:`y_{LG}`        | :math:`1.0 y_{PI_c} + 1.0 y_{PI_w}`                                                     | State in lag TF          |      | v_str      |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  PIc_yul | :math:`y^{ul}_{PI_c}` | :math:`K_{pc} \left(Pord - Pref\right)`                                                 |                          |      | v_str      |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  PIc_y   | :math:`y_{PI_c}`      | :math:`PIc_{hl zi} y^{ul}_{PI_c} + PIc_{hl zl} \theta_{min} + PIc_{hl zu} \theta_{max}` | PI output                |      | v_str      |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  wref    | :math:`\omega_{ref}`  | :math:`wt`                                                                              | optional speed reference |      | v_str      |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  PIw_yul | :math:`y^{ul}_{PI_w}` | :math:`K_{pw} \left(K_{cc} \left(Pord - Pref\right) - \omega_{ref} + wt\right)`         |                          |      | v_str      |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  PIw_y   | :math:`y_{PI_w}`      | :math:`PIw_{hl zi} y^{ul}_{PI_w} + PIw_{hl zl} \theta_{min} + PIw_{hl zu} \theta_{max}` | PI output                |      | v_str      |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  wt      | :math:`wt`            |                                                                                         |                          |      |            |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  theta   | :math:`\theta`        |                                                                                         |                          |      |            |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  Pord    | :math:`Pord`          |                                                                                         |                          |      |            |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+
|  Pref    | :math:`Pref`          |                                                                                         |                          |      |            |
+----------+-----------------------+-----------------------------------------------------------------------------------------+--------------------------+------+------------+

Differential Equations

+---------+-------------------+-------+---------------------------------------------------------------------------------+--------------------+
|  Name   |      Symbol       | Type  |                        RHS of Equation "T x' = f(x, y)"                         |      T (LHS)       |
+=========+===================+=======+=================================================================================+====================+
|  PIc_xi | :math:`xi_{PI_c}` | State | :math:`K_{ic} \left(Pord - Pref\right)`                                         |                    |
+---------+-------------------+-------+---------------------------------------------------------------------------------+--------------------+
|  PIw_xi | :math:`xi_{PI_w}` | State | :math:`K_{iw} \left(K_{cc} \left(Pord - Pref\right) - \omega_{ref} + wt\right)` |                    |
+---------+-------------------+-------+---------------------------------------------------------------------------------+--------------------+
|  LG_y   | :math:`y_{LG}`    | State | :math:`- y_{LG} + 1.0 y_{PI_c} + 1.0 y_{PI_w}`                                  | :math:`T_{\theta}` |
+---------+-------------------+-------+---------------------------------------------------------------------------------+--------------------+

Algebraic Equations

+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+
|   Name   |        Symbol         |   Type   |                                        RHS of Equation "0 = g(x, y)"                                        |
+==========+=======================+==========+=============================================================================================================+
|  PIc_yul | :math:`y^{ul}_{PI_c}` | Algeb    | :math:`K_{pc} \left(Pord - Pref\right) + xi_{PI_c} - y^{ul}_{PI_c}`                                         |
+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+
|  PIc_y   | :math:`y_{PI_c}`      | Algeb    | :math:`PIc_{hl zi} y^{ul}_{PI_c} + PIc_{hl zl} \theta_{min} + PIc_{hl zu} \theta_{max} - y_{PI_c}`          |
+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+
|  wref    | :math:`\omega_{ref}`  | Algeb    | :math:`- \omega_{ref} + wt`                                                                                 |
+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+
|  PIw_yul | :math:`y^{ul}_{PI_w}` | Algeb    | :math:`K_{pw} \left(K_{cc} \left(Pord - Pref\right) - \omega_{ref} + wt\right) + xi_{PI_w} - y^{ul}_{PI_w}` |
+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+
|  PIw_y   | :math:`y_{PI_w}`      | Algeb    | :math:`PIw_{hl zi} y^{ul}_{PI_w} + PIw_{hl zl} \theta_{min} + PIw_{hl zu} \theta_{max} - y_{PI_w}`          |
+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+
|  wt      | :math:`wt`            | ExtAlgeb | :math:`0`                                                                                                   |
+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+
|  theta   | :math:`\theta`        | ExtAlgeb | :math:`- \theta_{0} + y_{LG}`                                                                               |
+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+
|  Pord    | :math:`Pord`          | ExtAlgeb | :math:`0`                                                                                                   |
+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+
|  Pref    | :math:`Pref`          | ExtAlgeb | :math:`0`                                                                                                   |
+----------+-----------------------+----------+-------------------------------------------------------------------------------------------------------------+

Discrete

+---------+-------------------+----------------+----------------+
|  Name   |      Symbol       |      Type      |      Info      |
+=========+===================+================+================+
|  PIc_aw | :math:`aw_{PI_c}` | AntiWindup     |                |
+---------+-------------------+----------------+----------------+
|  PIc_hl | :math:`hl_{PI_c}` | HardLimiter    |                |
+---------+-------------------+----------------+----------------+
|  PIw_aw | :math:`aw_{PI_w}` | AntiWindup     |                |
+---------+-------------------+----------------+----------------+
|  PIw_hl | :math:`hl_{PI_w}` | HardLimiter    |                |
+---------+-------------------+----------------+----------------+
|  LG_lim | :math:`lim_{LG}`  | AntiWindupRate | Limiter in Lag |
+---------+-------------------+----------------+----------------+

Blocks

+------+--------------+-------------------+-----------------------------------------+
| Name |    Symbol    |       Type        |                  Info                   |
+======+==============+===================+=========================================+
|  PIc | :math:`PI_c` | PIAWHardLimit     | PI for active power diff compensation   |
+------+--------------+-------------------+-----------------------------------------+
|  PIw | :math:`PI_w` | PIAWHardLimit     | PI for speed and active power deviation |
+------+--------------+-------------------+-----------------------------------------+
|  LG  | :math:`LG`   | LagAntiWindupRate | Output lag anti-windup rate limiter     |
+------+--------------+-------------------+-----------------------------------------+


